{"version":3,"file":"lib_index_js.b69ef00f981265aecd64.js","mappings":"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","sources":["webpack://@elyra/theme-extension/./src/index.ts","webpack://@elyra/theme-extension/./src/launcher.tsx"],"sourcesContent":["/*\r\n * Copyright 2018-2025 Elyra Authors\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n * http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n\r\nimport { elyraIcon, helpIcon, whatsNewIcon } from '@elyra/ui-components';\r\nimport {\r\n  ILabShell,\r\n  JupyterFrontEnd,\r\n  JupyterFrontEndPlugin\r\n} from '@jupyterlab/application';\r\nimport { ICommandPalette, MainAreaWidget } from '@jupyterlab/apputils';\r\nimport { ILauncher } from '@jupyterlab/launcher';\r\nimport { IMainMenu } from '@jupyterlab/mainmenu';\r\nimport { ITranslator } from '@jupyterlab/translation';\r\nimport { launcherIcon } from '@jupyterlab/ui-components';\r\n\r\nimport { toArray } from '@lumino/algorithm';\r\nimport { DockPanel, TabBar, Widget } from '@lumino/widgets';\r\n\r\nimport { Launcher, LauncherModel } from './launcher';\r\nimport '../style/index.css';\r\n\r\nconst ELYRA_THEME_NAMESPACE = 'elyra-theme-extension';\r\n\r\n/**\r\n * The command IDs used by the launcher plugin.\r\n */\r\nconst CommandIDs = {\r\n  create: 'launcher:create',\r\n  openHelp: 'elyra:open-help',\r\n  releases: 'elyra:releases'\r\n};\r\n\r\nexport interface IProps {\r\n  justify?: string;\r\n}\r\n\r\n/**\r\n * Initialization data for the theme extension.\r\n */\r\nconst extension: JupyterFrontEndPlugin<ILauncher> = {\r\n  id: ELYRA_THEME_NAMESPACE,\r\n  autoStart: true,\r\n  requires: [ITranslator, ILabShell, IMainMenu],\r\n  optional: [ICommandPalette],\r\n  provides: ILauncher,\r\n  activate: (\r\n    app: JupyterFrontEnd,\r\n    translator: ITranslator,\r\n    labShell: ILabShell,\r\n    mainMenu: IMainMenu,\r\n    palette: ICommandPalette | null\r\n  ): ILauncher => {\r\n    console.log('Elyra - theme extension is activated!');\r\n\r\n    // Find the MainLogo element and replace it with the Elyra Logo\r\n    app.restored.then(() => {\r\n      const logoElement = document.getElementById('jp-MainLogo');\r\n      if (!logoElement) {\r\n        return;\r\n      }\r\n\r\n      logoElement.innerHTML = '';\r\n\r\n      const propsWithJustify: {\r\n        container: HTMLElement;\r\n        justify?: string;\r\n        margin: string;\r\n        height: string;\r\n        width: string;\r\n      } = {\r\n        container: logoElement,\r\n        justify: 'center',\r\n        margin: '2px 5px 2px 5px',\r\n        height: 'auto',\r\n        width: '20px'\r\n      };\r\n\r\n      elyraIcon.element(propsWithJustify);\r\n    });\r\n\r\n    // Use custom Elyra launcher\r\n    const { commands, shell } = app;\r\n    const trans = translator.load('jupyterlab');\r\n    const model = new LauncherModel();\r\n\r\n    commands.addCommand(CommandIDs.create, {\r\n      label: trans.__('New Launcher'),\r\n      execute: (args) => {\r\n        const cwd = args['cwd'] ? String(args['cwd']) : '';\r\n        const id = `launcher-${Private.id++}`;\r\n        const callback = (item: Widget): void => {\r\n          labShell.add(item, 'main', { ref: id });\r\n        };\r\n\r\n        const launcher = new Launcher({\r\n          model,\r\n          cwd,\r\n          callback,\r\n          commands,\r\n          translator\r\n        });\r\n\r\n        launcher.model = model;\r\n        launcher.title.icon = launcherIcon;\r\n        launcher.title.label = trans.__('Launcher');\r\n\r\n        const main = new MainAreaWidget({ content: launcher });\r\n\r\n        // If there are any other widgets open, remove the launcher close icon.\r\n        main.title.closable = !!toArray(labShell.widgets('main')).length;\r\n        main.id = id;\r\n\r\n        shell.add(main, 'main', {\r\n          activate: args['activate'] as boolean,\r\n          ref: args['ref'] as string\r\n        });\r\n\r\n        labShell.layoutModified.connect(() => {\r\n          // If there is only a launcher open, remove the close icon.\r\n          main.title.closable = toArray(labShell.widgets('main')).length > 1;\r\n        }, main);\r\n\r\n        return main;\r\n      }\r\n    });\r\n\r\n    if (palette) {\r\n      palette.addItem({\r\n        command: CommandIDs.create,\r\n        category: trans.__('Launcher')\r\n      });\r\n    }\r\n\r\n    if (labShell) {\r\n      labShell.addButtonEnabled = true;\r\n      labShell.addRequested.connect(\r\n        (sender: DockPanel, arg: TabBar<Widget>) => {\r\n          // Get the ref for the current tab of the tabbar which the add button was clicked\r\n          const ref =\r\n            arg.currentTitle?.owner.id ||\r\n            arg.titles[arg.titles.length - 1].owner.id;\r\n          if (commands.hasCommand('filebrowser:create-main-launcher')) {\r\n            // If a file browser is defined connect the launcher to it\r\n            return commands.execute('filebrowser:create-main-launcher', {\r\n              ref\r\n            });\r\n          }\r\n          return commands.execute(CommandIDs.create, { ref });\r\n        }\r\n      );\r\n    }\r\n\r\n    commands.addCommand(CommandIDs.openHelp, {\r\n      label: 'Documentation',\r\n      icon: helpIcon,\r\n      execute: () => {\r\n        window.open('https://elyra.readthedocs.io/en/v4.0.0/', '_blank');\r\n      }\r\n    });\r\n\r\n    commands.addCommand(CommandIDs.releases, {\r\n      label: \"What's new in v4.0.0\",\r\n      caption: \"What's new in this release\",\r\n      icon: whatsNewIcon,\r\n      execute: () => {\r\n        window.open(\r\n          'https://github.com/elyra-ai/elyra/releases/v4.0.0/',\r\n          '_blank'\r\n        );\r\n      }\r\n    });\r\n\r\n    model.add({\r\n      command: CommandIDs.openHelp,\r\n      category: 'Elyra',\r\n      rank: 10\r\n    });\r\n\r\n    model.add({\r\n      command: CommandIDs.releases,\r\n      category: 'Elyra',\r\n      rank: 11\r\n    });\r\n\r\n    return model;\r\n  }\r\n};\r\n\r\n/**\r\n * The namespace for module private data.\r\n */\r\nnamespace Private {\r\n  /**\r\n   * The incrementing id used for launcher widgets.\r\n   */\r\n  // eslint-disable-next-line\r\n  export let id = 0;\r\n}\r\n\r\nexport default extension;\r\n","/*\r\n * Copyright 2018-2025 Elyra Authors\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n * http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n\r\nimport { elyraIcon } from '@elyra/ui-components';\r\n\r\nimport {\r\n  Launcher as JupyterlabLauncher,\r\n  LauncherModel as JupyterLauncherModel,\r\n  ILauncher\r\n} from '@jupyterlab/launcher';\r\nimport { TranslationBundle } from '@jupyterlab/translation';\r\nimport { LabIcon } from '@jupyterlab/ui-components';\r\n\r\nimport { each } from '@lumino/algorithm';\r\n\r\nimport * as React from 'react';\r\n\r\n/**\r\n * The known categories of launcher items and their default ordering.\r\n */\r\nconst ELYRA_CATEGORY = 'Elyra';\r\n\r\nconst CommandIDs = {\r\n  newFile: 'fileeditor:create-new',\r\n  createNewPythonEditor: 'script-editor:create-new-python-editor',\r\n  createNewREditor: 'script-editor:create-new-r-editor'\r\n};\r\n\r\nexport class LauncherModel extends JupyterLauncherModel {\r\n  /**\r\n   * Return an iterator of launcher items, but remove unnecessary items.\r\n   */\r\n  *items(): IterableIterator<ILauncher.IItemOptions> {\r\n    const items: ILauncher.IItemOptions[] = [];\r\n\r\n    let pyEditorInstalled = false;\r\n    let rEditorInstalled = false;\r\n\r\n    this.itemsList.forEach((item) => {\r\n      if (item.command === CommandIDs.createNewPythonEditor) {\r\n        pyEditorInstalled = true;\r\n      } else if (item.command === CommandIDs.createNewREditor) {\r\n        rEditorInstalled = true;\r\n      }\r\n    });\r\n\r\n    if (!pyEditorInstalled && !rEditorInstalled) {\r\n      yield* this.itemsList;\r\n    }\r\n\r\n    // Dont add tiles for new py and r files if their script editor is installed\r\n    this.itemsList.forEach((item) => {\r\n      if (\r\n        !(\r\n          item.command === CommandIDs.newFile &&\r\n          ((pyEditorInstalled && item.args?.fileExt === 'py') ||\r\n            (rEditorInstalled && item.args?.fileExt === 'r'))\r\n        )\r\n      ) {\r\n        items.push(item);\r\n      }\r\n    });\r\n\r\n    yield* items;\r\n  }\r\n}\r\n\r\nexport class Launcher extends JupyterlabLauncher {\r\n  /**\r\n   * Construct a new launcher widget.\r\n   */\r\n  constructor(options: ILauncher.IOptions) {\r\n    super(options);\r\n    this._translator = this.translator.load('jupyterlab');\r\n  }\r\n\r\n  private replaceCategoryIcon(\r\n    category: React.ReactElement,\r\n    icon: LabIcon\r\n  ): React.ReactElement {\r\n    const children = React.Children.map(category.props.children, (child) => {\r\n      if (child.props.className === 'jp-Launcher-sectionHeader') {\r\n        const grandchildren = React.Children.map(\r\n          child.props.children,\r\n          (grandchild) => {\r\n            if (grandchild.props.className !== 'jp-Launcher-sectionTitle') {\r\n              return <icon.react stylesheet=\"launcherSection\" />;\r\n            } else {\r\n              return grandchild;\r\n            }\r\n          }\r\n        );\r\n\r\n        return React.cloneElement(child, child.props, grandchildren);\r\n      } else {\r\n        return child;\r\n      }\r\n    });\r\n\r\n    return React.cloneElement(category, category.props, children);\r\n  }\r\n\r\n  /**\r\n   * Render the launcher to virtual DOM nodes.\r\n   */\r\n  protected render(): React.ReactElement<React.JSX.Element> | null {\r\n    // Bail if there is no model.\r\n    if (!this.model) {\r\n      return null;\r\n    }\r\n\r\n    // get the rendering from JupyterLab Launcher\r\n    // and resort the categories\r\n    const launcherBody = super.render();\r\n    const launcherContent = launcherBody?.props.children;\r\n    const launcherCategories = launcherContent.props.children;\r\n\r\n    const categories: React.ReactElement<string>[] = [];\r\n\r\n    const knownCategories = [\r\n      this._translator.__('Notebook'),\r\n      this._translator.__('Console'),\r\n      ELYRA_CATEGORY,\r\n      this._translator.__('Other')\r\n    ];\r\n\r\n    // Assemble the final ordered list of categories\r\n    // based on knownCategories.\r\n    each(knownCategories, (category) => {\r\n      React.Children.forEach(launcherCategories, (cat) => {\r\n        if (cat.key === category) {\r\n          if (cat.key === ELYRA_CATEGORY) {\r\n            cat = this.replaceCategoryIcon(cat, elyraIcon);\r\n          }\r\n          categories.push(cat);\r\n        }\r\n      });\r\n    });\r\n\r\n    // Wrap the sections in body and content divs.\r\n    return (\r\n      <div className=\"jp-Launcher-body\">\r\n        <div className=\"jp-Launcher-content\">\r\n          <div className=\"jp-Launcher-cwd\">\r\n            <h3>{this.cwd}</h3>\r\n          </div>\r\n          {categories}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  private _translator: TranslationBundle;\r\n}\r\n"],"names":[],"sourceRoot":""}