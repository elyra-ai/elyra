{"version":3,"file":"metadata-common_lib_index_js.dbfd8658d258c24fda9f.js","mappings":";;;;;;;;;;;;;;;;;AAAA;AACgH;AACjB;AAC/F,8BAA8B,mFAA2B,CAAC,4FAAqC;AAC/F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAC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","sources":["webpack://@elyra/pipeline-editor-extension/../metadata-common/style/index.css","webpack://@elyra/pipeline-editor-extension/../metadata-common/src/FilterTools.tsx","webpack://@elyra/pipeline-editor-extension/../metadata-common/src/MetadataCommonService.tsx","webpack://@elyra/pipeline-editor-extension/../metadata-common/src/MetadataEditor.tsx","webpack://@elyra/pipeline-editor-extension/../metadata-common/src/MetadataEditorWidget.tsx","webpack://@elyra/pipeline-editor-extension/../metadata-common/src/MetadataWidget.tsx","webpack://@elyra/pipeline-editor-extension/../metadata-common/src/index.ts","webpack://@elyra/pipeline-editor-extension/../metadata-common/style/index.css?bb89"],"sourcesContent":["// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `/*\r\n * Copyright 2018-2025 Elyra Authors\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n * http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n\r\n/* MetadataWidget CSS */\r\n.elyra-metadata {\r\n  color: var(--jp-ui-font-color1);\r\n  background: var(--jp-layout-color1);\r\n}\r\n\r\n.elyra-metadata a,\r\n.elyra-metadataEditor a {\r\n  color: var(--jp-content-link-color);\r\n}\r\n\r\n.elyra-metadataHeader {\r\n  font-weight: bold;\r\n  padding: 2px 6px 2px 12px;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n\r\n.elyra-metadataHeader p {\r\n  font-weight: bold;\r\n}\r\n\r\nbutton.elyra-metadataHeader-button {\r\n  border: none;\r\n  margin: 5px 0;\r\n  padding: 5px;\r\n  background: none;\r\n}\r\n\r\n.elyra-metadataHeader-buttons {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.elyra-metadataHeader-buttonDivider {\r\n  width: 0.05em;\r\n  height: 1.5em;\r\n  position: relative;\r\n  background-color: var(--jp-border-color1);\r\n}\r\n\r\n.elyra-metadataHeader-popper button {\r\n  border: none;\r\n  width: max-content;\r\n  padding: 7px 9px;\r\n  background: none;\r\n  cursor: pointer;\r\n}\r\n\r\n.elyra-metadataHeader-popper button:hover {\r\n  background-color: var(--jp-border-color3);\r\n}\r\n\r\n.elyra-metadataHeader-popper {\r\n  z-index: 100;\r\n  background-color: var(--jp-cell-editor-active-background);\r\n  border-radius: 10%;\r\n  border-radius: 8px;\r\n  border: 1px solid var(--jp-border-color2);\r\n}\r\n\r\n.elyra-metadataHeader-button:hover {\r\n  background-color: var(--jp-layout-color2);\r\n  cursor: pointer;\r\n}\r\n\r\n.elyra-metadataHeader [fill] {\r\n  fill: var(--jp-ui-font-color1);\r\n}\r\n\r\n.elyra-metadataHeader + div:first-of-type {\r\n  overflow-y: auto;\r\n  height: calc(100vh - 95px);\r\n}\r\n\r\n.elyra-metadata-item {\r\n  border-bottom: var(--jp-border-width) solid var(--jp-border-color2);\r\n  display: flex;\r\n  flex-direction: column;\r\n  margin: 0;\r\n  padding: 0;\r\n}\r\n\r\n.elyra-metadata-item .elyra-expandableContainer-details-visible {\r\n  background-color: var(--jp-cell-editor-background);\r\n  resize: vertical;\r\n}\r\n\r\n.elyra-metadata-item .CodeMirror.cm-s-jupyter {\r\n  background-color: inherit;\r\n  border: none;\r\n  font-family: var(--jp-code-font-family);\r\n  font-size: var(--jp-code-font-size);\r\n  line-height: var(--jp-code-line-height);\r\n}\r\n\r\n.elyra-metadata-item .cm-s-jupyter li .cm-string {\r\n  word-break: normal;\r\n}\r\n\r\n/* Metadata Editor CSS (a lot of the style for the metadata editor is in\r\n * the ui-components package under formeditor.css\r\n */\r\n.elyra-metadataEditor {\r\n  padding: 20px;\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  height: 100%;\r\n  align-content: flex-start;\r\n  align-items: flex-start;\r\n  justify-content: flex-start;\r\n  color: var(--jp-ui-font-color1);\r\n}\r\n\r\n/* Code Snippet Filter CSS */\r\n.elyra-searchbar {\r\n  margin: 0px 8px;\r\n}\r\n\r\n.elyra-filterTools {\r\n  border-bottom: var(--jp-border-width) solid var(--jp-border-color1);\r\n}\r\n\r\nmark.elyra-search-bolding {\r\n  background-color: transparent;\r\n  font-weight: bold;\r\n  color: var(--jp-ui-font-color0);\r\n}\r\n\r\n.elyra-filter {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  margin: 10px 10px 0 10px;\r\n}\r\n\r\n.elyra-filter .elyra-filter-btn {\r\n  align-self: flex-end;\r\n  padding: 0px;\r\n  margin-bottom: 5px;\r\n  border-radius: 5px;\r\n  border: none;\r\n  background: none;\r\n  cursor: pointer;\r\n}\r\n\r\n.elyra-filter .elyra-filter-btn:hover {\r\n  background-color: var(--jp-layout-color2);\r\n}\r\n\r\n.elyra-filter-btn svg {\r\n  display: block;\r\n  width: 30px;\r\n  height: 22px;\r\n}\r\n\r\n.elyra-filter-arrow-up.idle,\r\n.elyra-filter-option.idle {\r\n  display: none;\r\n}\r\n\r\n.elyra-filter-arrow-up {\r\n  position: absolute;\r\n  margin-top: 16px;\r\n  margin-right: 38px;\r\n  align-self: flex-end;\r\n  background-color: var(--jp-layout-color0);\r\n}\r\n\r\n.elyra-filter-option {\r\n  border: var(--jp-border-width) solid var(--jp-border-color1);\r\n  height: 140px;\r\n  width: 100%;\r\n  margin-bottom: 10px;\r\n  padding-top: 5px;\r\n  padding-bottom: 5px;\r\n  overflow: auto;\r\n}\r\n\r\n.elyra-filter-tags {\r\n  margin: 8px 8px;\r\n}\r\n\r\n.elyra-filter-tag {\r\n  margin-left: 3px;\r\n  margin-right: 3px;\r\n}\r\n\r\nbutton.elyra-filter-tag {\r\n  height: 24px;\r\n  padding: 0 12px;\r\n  cursor: pointer;\r\n  color: var(--jp-ui-font-color2);\r\n  font-size: var(--jp-ui-font-size1);\r\n}\r\n\r\nbutton.elyra-filter-tag .elyra-filter-tag-label {\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  white-space: nowrap;\r\n}\r\n\r\nbutton.elyra-filter-tag span,\r\nbutton.elyra-filter-tag svg {\r\n  pointer-events: none;\r\n}\r\n\r\n.elyra-filter-empty {\r\n  font-size: var(--jp-ui-font-size1);\r\n}\r\n\r\n.elyra-tools {\r\n  border-bottom: var(--jp-border-width) solid var(--jp-border-color1);\r\n}\r\n\r\n.elyra-metadataEditor-saveButton button {\r\n  background: none;\r\n  border: 1px solid var(--jp-border-color1);\r\n  border-radius: 3px;\r\n  padding: 10px;\r\n  font-size: var(--jp-content-font-size2);\r\n  width: fit-content;\r\n  color: var(--jp-content-font-color0);\r\n  cursor: pointer;\r\n}\r\n\r\n.elyra-metadataEditor-saveButton button:hover {\r\n  background: var(--jp-border-color3);\r\n}\r\n\r\n.elyra-metadataEditor-saveButton.errorForm {\r\n  color: var(--jp-content-font-color3);\r\n}\r\n\r\n.elyra-metadataEditor-saveButton.errorForm button {\r\n  border-color: var(--jp-content-font-color3);\r\n  cursor: not-allowed;\r\n}\r\n\r\n.elyra-no-metadata-msg {\r\n  padding-left: 8px;\r\n}\r\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./../metadata-common/style/index.css\"],\"names\":[],\"mappings\":\"AAAA;;;;;;;;;;;;;;EAcE;;AAEF,uBAAuB;AACvB;EACE,+BAA+B;EAC/B,mCAAmC;AACrC;;AAEA;;EAEE,mCAAmC;AACrC;;AAEA;EACE,iBAAiB;EACjB,yBAAyB;EACzB,aAAa;EACb,8BAA8B;EAC9B,mBAAmB;AACrB;;AAEA;EACE,iBAAiB;AACnB;;AAEA;EACE,YAAY;EACZ,aAAa;EACb,YAAY;EACZ,gBAAgB;AAClB;;AAEA;EACE,aAAa;EACb,mBAAmB;AACrB;;AAEA;EACE,aAAa;EACb,aAAa;EACb,kBAAkB;EAClB,yCAAyC;AAC3C;;AAEA;EACE,YAAY;EACZ,kBAAkB;EAClB,gBAAgB;EAChB,gBAAgB;EAChB,eAAe;AACjB;;AAEA;EACE,yCAAyC;AAC3C;;AAEA;EACE,YAAY;EACZ,yDAAyD;EACzD,kBAAkB;EAClB,kBAAkB;EAClB,yCAAyC;AAC3C;;AAEA;EACE,yCAAyC;EACzC,eAAe;AACjB;;AAEA;EACE,8BAA8B;AAChC;;AAEA;EACE,gBAAgB;EAChB,0BAA0B;AAC5B;;AAEA;EACE,mEAAmE;EACnE,aAAa;EACb,sBAAsB;EACtB,SAAS;EACT,UAAU;AACZ;;AAEA;EACE,kDAAkD;EAClD,gBAAgB;AAClB;;AAEA;EACE,yBAAyB;EACzB,YAAY;EACZ,uCAAuC;EACvC,mCAAmC;EACnC,uCAAuC;AACzC;;AAEA;EACE,kBAAkB;AACpB;;AAEA;;EAEE;AACF;EACE,aAAa;EACb,aAAa;EACb,eAAe;EACf,YAAY;EACZ,yBAAyB;EACzB,uBAAuB;EACvB,2BAA2B;EAC3B,+BAA+B;AACjC;;AAEA,4BAA4B;AAC5B;EACE,eAAe;AACjB;;AAEA;EACE,mEAAmE;AACrE;;AAEA;EACE,6BAA6B;EAC7B,iBAAiB;EACjB,+BAA+B;AACjC;;AAEA;EACE,aAAa;EACb,sBAAsB;EACtB,mBAAmB;EACnB,wBAAwB;AAC1B;;AAEA;EACE,oBAAoB;EACpB,YAAY;EACZ,kBAAkB;EAClB,kBAAkB;EAClB,YAAY;EACZ,gBAAgB;EAChB,eAAe;AACjB;;AAEA;EACE,yCAAyC;AAC3C;;AAEA;EACE,cAAc;EACd,WAAW;EACX,YAAY;AACd;;AAEA;;EAEE,aAAa;AACf;;AAEA;EACE,kBAAkB;EAClB,gBAAgB;EAChB,kBAAkB;EAClB,oBAAoB;EACpB,yCAAyC;AAC3C;;AAEA;EACE,4DAA4D;EAC5D,aAAa;EACb,WAAW;EACX,mBAAmB;EACnB,gBAAgB;EAChB,mBAAmB;EACnB,cAAc;AAChB;;AAEA;EACE,eAAe;AACjB;;AAEA;EACE,gBAAgB;EAChB,iBAAiB;AACnB;;AAEA;EACE,YAAY;EACZ,eAAe;EACf,eAAe;EACf,+BAA+B;EAC/B,kCAAkC;AACpC;;AAEA;EACE,gBAAgB;EAChB,uBAAuB;EACvB,mBAAmB;AACrB;;AAEA;;EAEE,oBAAoB;AACtB;;AAEA;EACE,kCAAkC;AACpC;;AAEA;EACE,mEAAmE;AACrE;;AAEA;EACE,gBAAgB;EAChB,yCAAyC;EACzC,kBAAkB;EAClB,aAAa;EACb,uCAAuC;EACvC,kBAAkB;EAClB,oCAAoC;EACpC,eAAe;AACjB;;AAEA;EACE,mCAAmC;AACrC;;AAEA;EACE,oCAAoC;AACtC;;AAEA;EACE,2CAA2C;EAC3C,mBAAmB;AACrB;;AAEA;EACE,iBAAiB;AACnB\",\"sourcesContent\":[\"/*\\r\\n * Copyright 2018-2025 Elyra Authors\\r\\n *\\r\\n * Licensed under the Apache License, Version 2.0 (the \\\"License\\\");\\r\\n * you may not use this file except in compliance with the License.\\r\\n * You may obtain a copy of the License at\\r\\n *\\r\\n * http://www.apache.org/licenses/LICENSE-2.0\\r\\n *\\r\\n * Unless required by applicable law or agreed to in writing, software\\r\\n * distributed under the License is distributed on an \\\"AS IS\\\" BASIS,\\r\\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\\r\\n * See the License for the specific language governing permissions and\\r\\n * limitations under the License.\\r\\n */\\r\\n\\r\\n/* MetadataWidget CSS */\\r\\n.elyra-metadata {\\r\\n  color: var(--jp-ui-font-color1);\\r\\n  background: var(--jp-layout-color1);\\r\\n}\\r\\n\\r\\n.elyra-metadata a,\\r\\n.elyra-metadataEditor a {\\r\\n  color: var(--jp-content-link-color);\\r\\n}\\r\\n\\r\\n.elyra-metadataHeader {\\r\\n  font-weight: bold;\\r\\n  padding: 2px 6px 2px 12px;\\r\\n  display: flex;\\r\\n  justify-content: space-between;\\r\\n  align-items: center;\\r\\n}\\r\\n\\r\\n.elyra-metadataHeader p {\\r\\n  font-weight: bold;\\r\\n}\\r\\n\\r\\nbutton.elyra-metadataHeader-button {\\r\\n  border: none;\\r\\n  margin: 5px 0;\\r\\n  padding: 5px;\\r\\n  background: none;\\r\\n}\\r\\n\\r\\n.elyra-metadataHeader-buttons {\\r\\n  display: flex;\\r\\n  align-items: center;\\r\\n}\\r\\n\\r\\n.elyra-metadataHeader-buttonDivider {\\r\\n  width: 0.05em;\\r\\n  height: 1.5em;\\r\\n  position: relative;\\r\\n  background-color: var(--jp-border-color1);\\r\\n}\\r\\n\\r\\n.elyra-metadataHeader-popper button {\\r\\n  border: none;\\r\\n  width: max-content;\\r\\n  padding: 7px 9px;\\r\\n  background: none;\\r\\n  cursor: pointer;\\r\\n}\\r\\n\\r\\n.elyra-metadataHeader-popper button:hover {\\r\\n  background-color: var(--jp-border-color3);\\r\\n}\\r\\n\\r\\n.elyra-metadataHeader-popper {\\r\\n  z-index: 100;\\r\\n  background-color: var(--jp-cell-editor-active-background);\\r\\n  border-radius: 10%;\\r\\n  border-radius: 8px;\\r\\n  border: 1px solid var(--jp-border-color2);\\r\\n}\\r\\n\\r\\n.elyra-metadataHeader-button:hover {\\r\\n  background-color: var(--jp-layout-color2);\\r\\n  cursor: pointer;\\r\\n}\\r\\n\\r\\n.elyra-metadataHeader [fill] {\\r\\n  fill: var(--jp-ui-font-color1);\\r\\n}\\r\\n\\r\\n.elyra-metadataHeader + div:first-of-type {\\r\\n  overflow-y: auto;\\r\\n  height: calc(100vh - 95px);\\r\\n}\\r\\n\\r\\n.elyra-metadata-item {\\r\\n  border-bottom: var(--jp-border-width) solid var(--jp-border-color2);\\r\\n  display: flex;\\r\\n  flex-direction: column;\\r\\n  margin: 0;\\r\\n  padding: 0;\\r\\n}\\r\\n\\r\\n.elyra-metadata-item .elyra-expandableContainer-details-visible {\\r\\n  background-color: var(--jp-cell-editor-background);\\r\\n  resize: vertical;\\r\\n}\\r\\n\\r\\n.elyra-metadata-item .CodeMirror.cm-s-jupyter {\\r\\n  background-color: inherit;\\r\\n  border: none;\\r\\n  font-family: var(--jp-code-font-family);\\r\\n  font-size: var(--jp-code-font-size);\\r\\n  line-height: var(--jp-code-line-height);\\r\\n}\\r\\n\\r\\n.elyra-metadata-item .cm-s-jupyter li .cm-string {\\r\\n  word-break: normal;\\r\\n}\\r\\n\\r\\n/* Metadata Editor CSS (a lot of the style for the metadata editor is in\\r\\n * the ui-components package under formeditor.css\\r\\n */\\r\\n.elyra-metadataEditor {\\r\\n  padding: 20px;\\r\\n  display: flex;\\r\\n  flex-wrap: wrap;\\r\\n  height: 100%;\\r\\n  align-content: flex-start;\\r\\n  align-items: flex-start;\\r\\n  justify-content: flex-start;\\r\\n  color: var(--jp-ui-font-color1);\\r\\n}\\r\\n\\r\\n/* Code Snippet Filter CSS */\\r\\n.elyra-searchbar {\\r\\n  margin: 0px 8px;\\r\\n}\\r\\n\\r\\n.elyra-filterTools {\\r\\n  border-bottom: var(--jp-border-width) solid var(--jp-border-color1);\\r\\n}\\r\\n\\r\\nmark.elyra-search-bolding {\\r\\n  background-color: transparent;\\r\\n  font-weight: bold;\\r\\n  color: var(--jp-ui-font-color0);\\r\\n}\\r\\n\\r\\n.elyra-filter {\\r\\n  display: flex;\\r\\n  flex-direction: column;\\r\\n  align-items: center;\\r\\n  margin: 10px 10px 0 10px;\\r\\n}\\r\\n\\r\\n.elyra-filter .elyra-filter-btn {\\r\\n  align-self: flex-end;\\r\\n  padding: 0px;\\r\\n  margin-bottom: 5px;\\r\\n  border-radius: 5px;\\r\\n  border: none;\\r\\n  background: none;\\r\\n  cursor: pointer;\\r\\n}\\r\\n\\r\\n.elyra-filter .elyra-filter-btn:hover {\\r\\n  background-color: var(--jp-layout-color2);\\r\\n}\\r\\n\\r\\n.elyra-filter-btn svg {\\r\\n  display: block;\\r\\n  width: 30px;\\r\\n  height: 22px;\\r\\n}\\r\\n\\r\\n.elyra-filter-arrow-up.idle,\\r\\n.elyra-filter-option.idle {\\r\\n  display: none;\\r\\n}\\r\\n\\r\\n.elyra-filter-arrow-up {\\r\\n  position: absolute;\\r\\n  margin-top: 16px;\\r\\n  margin-right: 38px;\\r\\n  align-self: flex-end;\\r\\n  background-color: var(--jp-layout-color0);\\r\\n}\\r\\n\\r\\n.elyra-filter-option {\\r\\n  border: var(--jp-border-width) solid var(--jp-border-color1);\\r\\n  height: 140px;\\r\\n  width: 100%;\\r\\n  margin-bottom: 10px;\\r\\n  padding-top: 5px;\\r\\n  padding-bottom: 5px;\\r\\n  overflow: auto;\\r\\n}\\r\\n\\r\\n.elyra-filter-tags {\\r\\n  margin: 8px 8px;\\r\\n}\\r\\n\\r\\n.elyra-filter-tag {\\r\\n  margin-left: 3px;\\r\\n  margin-right: 3px;\\r\\n}\\r\\n\\r\\nbutton.elyra-filter-tag {\\r\\n  height: 24px;\\r\\n  padding: 0 12px;\\r\\n  cursor: pointer;\\r\\n  color: var(--jp-ui-font-color2);\\r\\n  font-size: var(--jp-ui-font-size1);\\r\\n}\\r\\n\\r\\nbutton.elyra-filter-tag .elyra-filter-tag-label {\\r\\n  overflow: hidden;\\r\\n  text-overflow: ellipsis;\\r\\n  white-space: nowrap;\\r\\n}\\r\\n\\r\\nbutton.elyra-filter-tag span,\\r\\nbutton.elyra-filter-tag svg {\\r\\n  pointer-events: none;\\r\\n}\\r\\n\\r\\n.elyra-filter-empty {\\r\\n  font-size: var(--jp-ui-font-size1);\\r\\n}\\r\\n\\r\\n.elyra-tools {\\r\\n  border-bottom: var(--jp-border-width) solid var(--jp-border-color1);\\r\\n}\\r\\n\\r\\n.elyra-metadataEditor-saveButton button {\\r\\n  background: none;\\r\\n  border: 1px solid var(--jp-border-color1);\\r\\n  border-radius: 3px;\\r\\n  padding: 10px;\\r\\n  font-size: var(--jp-content-font-size2);\\r\\n  width: fit-content;\\r\\n  color: var(--jp-content-font-color0);\\r\\n  cursor: pointer;\\r\\n}\\r\\n\\r\\n.elyra-metadataEditor-saveButton button:hover {\\r\\n  background: var(--jp-border-color3);\\r\\n}\\r\\n\\r\\n.elyra-metadataEditor-saveButton.errorForm {\\r\\n  color: var(--jp-content-font-color3);\\r\\n}\\r\\n\\r\\n.elyra-metadataEditor-saveButton.errorForm button {\\r\\n  border-color: var(--jp-content-font-color3);\\r\\n  cursor: not-allowed;\\r\\n}\\r\\n\\r\\n.elyra-no-metadata-msg {\\r\\n  padding-left: 8px;\\r\\n}\\r\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","/*\r\n * Copyright 2018-2025 Elyra Authors\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n * http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nimport { tagIcon } from '@elyra/ui-components';\r\nimport { InputGroup, checkIcon } from '@jupyterlab/ui-components';\r\n\r\nimport React from 'react';\r\n\r\ninterface IFilterMetadataProps {\r\n  tags: string[];\r\n  onFilter: (searchValue: string, filterTags: string[]) => void;\r\n  schemaspace: string;\r\n  omitTags?: boolean;\r\n}\r\n\r\ninterface IFilterMetadataState {\r\n  selectedTags: string[];\r\n  searchValue: string;\r\n}\r\n\r\nconst FILTER_OPTION = 'elyra-filter-option';\r\nconst FILTER_TAGS = 'elyra-filter-tags';\r\nconst FILTER_TAG = 'elyra-filter-tag';\r\nconst FILTER_TAG_LABEL = 'elyra-filter-tag-label';\r\nconst FILTER_CHECK = 'elyra-filter-check';\r\nconst FILTER_TOOLS = 'elyra-filterTools';\r\nconst FILTER_SEARCHBAR = 'elyra-searchbar';\r\nconst FILTER_SEARCHWRAPPER = 'elyra-searchwrapper';\r\nconst FILTER_CLASS = 'elyra-filter';\r\nconst FILTER_BUTTON = 'elyra-filter-btn';\r\nconst FILTER_EMPTY = 'elyra-filter-empty';\r\n\r\nexport class FilterTools extends React.Component<\r\n  IFilterMetadataProps,\r\n  IFilterMetadataState\r\n> {\r\n  constructor(props: IFilterMetadataProps) {\r\n    super(props);\r\n    this.state = { selectedTags: [], searchValue: '' };\r\n    this.createFilterBox = this.createFilterBox.bind(this);\r\n    this.renderFilterOption = this.renderFilterOption.bind(this);\r\n    this.renderTags = this.renderTags.bind(this);\r\n    this.renderAppliedTag = this.renderAppliedTag.bind(this);\r\n    this.renderUnappliedTag = this.renderUnappliedTag.bind(this);\r\n    this.handleClick = this.handleClick.bind(this);\r\n    this.filterMetadata = this.filterMetadata.bind(this);\r\n  }\r\n\r\n  componentDidMount(): void {\r\n    this.setState({\r\n      selectedTags: [],\r\n      searchValue: ''\r\n    });\r\n  }\r\n\r\n  componentDidUpdate(prevProps: IFilterMetadataProps): void {\r\n    if (prevProps !== this.props) {\r\n      this.setState((state) => ({\r\n        selectedTags: state.selectedTags\r\n          .filter((tag) => this.props.tags.includes(tag))\r\n          .sort()\r\n      }));\r\n    }\r\n  }\r\n\r\n  createFilterBox(): void {\r\n    const filterOption = document.querySelector(\r\n      `#${this.props.schemaspace} .${FILTER_OPTION}`\r\n    );\r\n\r\n    filterOption?.classList.toggle('idle');\r\n\r\n    this.filterMetadata();\r\n  }\r\n\r\n  renderTags(): JSX.Element {\r\n    if (!this.props.tags.length) {\r\n      return (\r\n        <div className={FILTER_TAGS}>\r\n          <p className={FILTER_EMPTY}>No tags defined</p>\r\n        </div>\r\n      );\r\n    }\r\n    return (\r\n      <div className={FILTER_TAGS}>\r\n        {this.props.tags.sort().map((tag: string, index: number) => {\r\n          if (this.state.selectedTags.includes(tag)) {\r\n            return this.renderAppliedTag(tag, index.toString());\r\n          } else {\r\n            return this.renderUnappliedTag(tag, index.toString());\r\n          }\r\n        })}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  renderAppliedTag(tag: string, index: string): JSX.Element {\r\n    return (\r\n      <button\r\n        className={`${FILTER_TAG} jp-CellTags-Tag jp-CellTags-Applied`}\r\n        id={'filter' + '-' + tag + '-' + index}\r\n        key={'filter' + '-' + tag + '-' + index}\r\n        title={tag}\r\n        onClick={this.handleClick}\r\n      >\r\n        <span className={FILTER_TAG_LABEL}>{tag}</span>\r\n        <checkIcon.react\r\n          className={FILTER_CHECK}\r\n          tag=\"span\"\r\n          elementPosition=\"center\"\r\n          height=\"18px\"\r\n          width=\"18px\"\r\n          marginLeft=\"5px\"\r\n          marginRight=\"-3px\"\r\n        />\r\n      </button>\r\n    );\r\n  }\r\n\r\n  renderUnappliedTag(tag: string, index: string): JSX.Element {\r\n    return (\r\n      <button\r\n        className={`${FILTER_TAG} jp-CellTags-Tag jp-CellTags-Unapplied`}\r\n        id={'filter' + '-' + tag + '-' + index}\r\n        key={'filter' + '-' + tag + '-' + index}\r\n        title={tag}\r\n        onClick={this.handleClick}\r\n      >\r\n        <span className={FILTER_TAG_LABEL}>{tag}</span>\r\n      </button>\r\n    );\r\n  }\r\n\r\n  handleClick(event: React.MouseEvent<HTMLButtonElement, MouseEvent>): void {\r\n    const target = event.target as HTMLElement;\r\n    const clickedTag = target.textContent ?? '';\r\n\r\n    this.setState(\r\n      (state) => ({\r\n        selectedTags: this.updateTagsCss(target, state.selectedTags, clickedTag)\r\n      }),\r\n      this.filterMetadata\r\n    );\r\n  }\r\n\r\n  updateTagsCss(\r\n    target: HTMLElement,\r\n    currentTags: string[],\r\n    clickedTag: string\r\n  ): string[] {\r\n    if (target.classList.contains('jp-CellTags-Unapplied')) {\r\n      target.classList.replace('jp-CellTags-Unapplied', 'jp-CellTags-Applied');\r\n\r\n      currentTags.splice(-1, 0, clickedTag);\r\n    } else if (target.classList.contains('jp-CellTags-Applied')) {\r\n      target.classList.replace('jp-CellTags-Applied', 'jp-CellTags-Unapplied');\r\n\r\n      const idx = currentTags.indexOf(clickedTag);\r\n      currentTags.splice(idx, 1);\r\n    }\r\n    return currentTags.sort();\r\n  }\r\n\r\n  handleSearch = (event: React.ChangeEvent<HTMLInputElement>): void => {\r\n    this.setState({ searchValue: event.target.value }, this.filterMetadata);\r\n  };\r\n\r\n  filterMetadata(): void {\r\n    const isTagFilterOpen = document\r\n      .querySelector(`#${this.props.schemaspace} .${FILTER_OPTION}`)\r\n      ?.classList.contains('idle');\r\n    this.props.onFilter(\r\n      this.state.searchValue,\r\n      isTagFilterOpen ? [] : this.state.selectedTags\r\n    );\r\n  }\r\n\r\n  renderFilterOption(): JSX.Element {\r\n    return <div className={`${FILTER_OPTION} idle`}>{this.renderTags()}</div>;\r\n  }\r\n\r\n  render(): JSX.Element {\r\n    return (\r\n      <div className={FILTER_TOOLS}>\r\n        <div className={FILTER_SEARCHBAR}>\r\n          <InputGroup\r\n            className={FILTER_SEARCHWRAPPER}\r\n            type=\"text\"\r\n            placeholder=\"Search...\"\r\n            onChange={this.handleSearch}\r\n            rightIcon=\"ui-components:search\"\r\n            value={this.state.searchValue}\r\n          />\r\n        </div>\r\n        {this.props.omitTags ? (\r\n          <div style={{ height: '4px' }} />\r\n        ) : (\r\n          <div className={FILTER_CLASS} id={this.props.schemaspace}>\r\n            <button\r\n              title=\"Filter by tag\"\r\n              className={FILTER_BUTTON}\r\n              onClick={this.createFilterBox}\r\n            >\r\n              <tagIcon.react />\r\n            </button>\r\n            {this.renderFilterOption()}\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","/*\r\n * Copyright 2018-2025 Elyra Authors\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n * http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n\r\nimport { IMetadataResource, MetadataService } from '@elyra/services';\r\n\r\nexport class MetadataCommonService {\r\n  /**\r\n   * Duplicates an existing metadata instance, using\r\n   * '<original-display-name>-Copy<unique-number>' as new display name.\r\n   *\r\n   * @param schemaSpace: schemaspace in which metadataInstance is defined\r\n   * @param metadataInstance: metadata instance to be duplicated\r\n   * @param existingInstances: list of existing metadata instances in schemaspace\r\n   *\r\n   * @returns A promise\r\n   */\r\n  static duplicateMetadataInstance(\r\n    schemaSpace: string,\r\n    metadataInstance: IMetadataResource,\r\n    existingInstances: IMetadataResource[]\r\n  ): Promise<IMetadataResource | undefined> {\r\n    // iterate through the list of currently defined\r\n    // instance names and find the next available one\r\n    // using '<source-instance-name>-Copy<N>'\r\n    let base_name = metadataInstance.display_name;\r\n    const match = metadataInstance.display_name.match(/-Copy\\d+$/);\r\n    if (match !== null) {\r\n      base_name = base_name.replace(/-Copy\\d+$/, '');\r\n    }\r\n    let count = 1;\r\n\r\n    while (\r\n      existingInstances.find(\r\n        (element) => element.display_name === `${base_name}-Copy${count}`\r\n      ) !== undefined\r\n    ) {\r\n      count += 1;\r\n    }\r\n\r\n    // Create a duplicate metadata instance using the derived name\r\n    const duplicated_metadata = JSON.parse(JSON.stringify(metadataInstance));\r\n    duplicated_metadata.display_name = `${base_name}-Copy${count}`;\r\n    delete duplicated_metadata.name;\r\n    return MetadataService.postMetadata(schemaSpace, duplicated_metadata);\r\n  }\r\n}\r\n","/*\r\n * Copyright 2018-2025 Elyra Authors\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n * http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n\r\nimport { ISchemaResource, MetadataService } from '@elyra/services';\r\nimport {\r\n  RequestErrors,\r\n  FormEditor,\r\n  IFormEditorRef,\r\n  GenericObjectType\r\n} from '@elyra/ui-components';\r\n\r\nimport * as React from 'react';\r\n\r\nimport { IMetadataEditorProps } from './MetadataEditorWidget';\r\n\r\nconst ELYRA_METADATA_EDITOR_CLASS = 'elyra-metadataEditor';\r\n\r\n/**\r\n * Props for the metadata editor component.\r\n */\r\ninterface IMetadataEditorComponentProps extends IMetadataEditorProps {\r\n  /**\r\n   * Schema including the metadata wrapper and other fields like display name.\r\n   */\r\n  schemaTop: ISchemaResource;\r\n\r\n  /**\r\n   * Metadata that has already been defined (if this is not a new instance)\r\n   */\r\n  initialMetadata: GenericObjectType;\r\n\r\n  /**\r\n   * Handler for setting dirty state in the parent component.\r\n   */\r\n  setDirty: (dirty: boolean) => void;\r\n\r\n  /**\r\n   * Handler to trigger close after saving.\r\n   */\r\n  close: () => void;\r\n\r\n  /**\r\n   * All tags defined between all metadata instances.\r\n   */\r\n  allTags: string[];\r\n\r\n  /**\r\n   * Function to find default choices based on uihints and existing values for that field.\r\n   */\r\n  getDefaultChoices: (fieldName: string) => string[];\r\n}\r\n\r\n/**\r\n * Metadata editor widget\r\n */\r\nexport const MetadataEditor: React.FC<IMetadataEditorComponentProps> = ({\r\n  editorServices,\r\n  schemaspace,\r\n  onSave,\r\n  schemaName,\r\n  schemaTop,\r\n  initialMetadata,\r\n  translator,\r\n  name,\r\n  setDirty,\r\n  close,\r\n  allTags,\r\n  componentRegistry,\r\n  getDefaultChoices,\r\n  titleContext\r\n}: IMetadataEditorComponentProps) => {\r\n  const formRef = React.useRef<IFormEditorRef>(null);\r\n  const [isSubmitted, setSubmitted] = React.useState(false);\r\n  const [invalidForm, setInvalidForm] = React.useState(false);\r\n\r\n  const schema = schemaTop.properties?.metadata;\r\n\r\n  const [metadata, setMetadata] = React.useState(initialMetadata);\r\n  const displayName = initialMetadata?.['_noCategory']?.['display_name'];\r\n  const referenceURL = schemaTop.uihints?.reference_url;\r\n\r\n  const isFormDataValid = (data: GenericObjectType) => {\r\n    const state = formRef.current!.validateForm(data);\r\n    return state.isValid;\r\n  };\r\n\r\n  /**\r\n   * Saves metadata through either put or post request.\r\n   */\r\n  const saveMetadata = () => {\r\n    const isValid = isFormDataValid(metadata);\r\n    setInvalidForm(!isValid);\r\n    setSubmitted(true);\r\n\r\n    if (!isValid) {\r\n      return;\r\n    }\r\n\r\n    const newMetadata = {\r\n      schema_name: schemaName,\r\n      display_name: metadata?.['_noCategory']?.['display_name'],\r\n      metadata: flattenFormData(metadata)\r\n    };\r\n\r\n    if (!name) {\r\n      MetadataService.postMetadata(schemaspace, newMetadata)\r\n        .then(() => {\r\n          setDirty(false);\r\n          onSave();\r\n          close();\r\n        })\r\n        .catch(async (error) => {\r\n          await RequestErrors.serverError(error);\r\n        });\r\n    } else {\r\n      MetadataService.putMetadata(schemaspace, name, newMetadata)\r\n        .then(() => {\r\n          setDirty(false);\r\n          onSave();\r\n          close();\r\n        })\r\n        .catch(async (error) => {\r\n          await RequestErrors.serverError(error);\r\n        });\r\n    }\r\n  };\r\n\r\n  let headerText = `Edit \"${displayName}\"`;\r\n  if (!displayName) {\r\n    headerText = `Add new ${schemaTop.title} ${titleContext ?? ''}`;\r\n  }\r\n\r\n  /**\r\n   * Removes category wrappers in the data before sending to the server.\r\n   * @param newFormData - Form data with category wrappers.\r\n   * @returns - Form data as the server expects it.\r\n   */\r\n  const flattenFormData = (\r\n    newFormData: GenericObjectType\r\n  ): GenericObjectType => {\r\n    const flattened: GenericObjectType = {};\r\n    for (const category in newFormData) {\r\n      for (const property in newFormData[category]) {\r\n        flattened[property] = newFormData[category][property];\r\n      }\r\n    }\r\n    return flattened;\r\n  };\r\n\r\n  /**\r\n   * Triggers save and close on pressing enter key (outside of a text area)\r\n   */\r\n  const onKeyPress: React.KeyboardEventHandler = (\r\n    event: React.KeyboardEvent\r\n  ) => {\r\n    const targetElement = event.nativeEvent.target as HTMLElement;\r\n    if (event.key === 'Enter' && targetElement?.tagName !== 'TEXTAREA') {\r\n      saveMetadata();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div onKeyPress={onKeyPress} className={ELYRA_METADATA_EDITOR_CLASS}>\r\n      <h3> {headerText} </h3>\r\n      <p style={{ width: '100%', marginBottom: '10px' }}>\r\n        {translator.__('All fields marked with an asterisk are required.')}\r\n        &nbsp;\r\n        {referenceURL ? (\r\n          <a href={referenceURL} target=\"_blank\" rel=\"noreferrer noopener\">\r\n            {translator.__('[Learn more ...]')}\r\n          </a>\r\n        ) : null}\r\n      </p>\r\n      <FormEditor\r\n        ref={formRef}\r\n        schema={schema as GenericObjectType}\r\n        onChange={(formData: GenericObjectType): void => {\r\n          setMetadata(formData);\r\n          if (isSubmitted) {\r\n            setInvalidForm(!isFormDataValid(formData));\r\n          }\r\n          setDirty(true);\r\n        }}\r\n        componentRegistry={componentRegistry}\r\n        translator={translator}\r\n        editorServices={editorServices}\r\n        originalData={metadata}\r\n        allTags={allTags}\r\n        languageOptions={getDefaultChoices('language')}\r\n      />\r\n      <div\r\n        className={`elyra-metadataEditor-formInput elyra-metadataEditor-saveButton ${\r\n          invalidForm ? 'errorForm' : ''\r\n        }`}\r\n        key={'SaveButton'}\r\n      >\r\n        {invalidForm ? (\r\n          <p className=\"formError\">\r\n            {translator.__('Cannot save invalid form.')}\r\n          </p>\r\n        ) : (\r\n          <div />\r\n        )}\r\n        <button onClick={saveMetadata}>{translator.__('Save & Close')}</button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","/*\r\n * Copyright 2018-2025 Elyra Authors\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n * http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n\r\nimport {\r\n  IMetadataResource,\r\n  ISchemaResource,\r\n  MetadataService\r\n} from '@elyra/services';\r\nimport {\r\n  GenericObjectType,\r\n  IErrorResponse,\r\n  RequestErrors\r\n} from '@elyra/ui-components';\r\n\r\nimport { ILabStatus } from '@jupyterlab/application';\r\nimport { ReactWidget, showDialog, Dialog } from '@jupyterlab/apputils';\r\nimport { IEditorServices } from '@jupyterlab/codeeditor';\r\nimport { TranslationBundle } from '@jupyterlab/translation';\r\nimport { IFormRendererRegistry } from '@jupyterlab/ui-components';\r\nimport { find } from '@lumino/algorithm';\r\nimport { IDisposable } from '@lumino/disposable';\r\nimport { Message } from '@lumino/messaging';\r\n\r\nimport * as React from 'react';\r\n\r\nimport { MetadataEditor } from './MetadataEditor';\r\n\r\nconst DIRTY_CLASS = 'jp-mod-dirty';\r\n\r\n/**\r\n * Props for the Metadata Editor component.\r\n */\r\nexport interface IMetadataEditorProps {\r\n  /**\r\n   * Schema name used for schema lookup and save\r\n   */\r\n  schemaName: string;\r\n\r\n  /**\r\n   * Schemaspace also used for schema lookup and saving.\r\n   */\r\n  schemaspace: string;\r\n\r\n  /**\r\n   * Name of metadata to edit (undefined if new metadata)\r\n   */\r\n  name?: string;\r\n\r\n  /**\r\n   * Callback to handle updates after saving metadata.\r\n   */\r\n  onSave: () => void;\r\n\r\n  /**\r\n   * Editor services to create code editor for code fields.\r\n   */\r\n  editorServices: IEditorServices | null;\r\n\r\n  /**\r\n   * Translator for internationalization.\r\n   */\r\n  translator: TranslationBundle;\r\n\r\n  /**\r\n   * Status for handling unsaved changes through JupyterLab\r\n   */\r\n  status: ILabStatus;\r\n\r\n  /**\r\n   * Component registry to use custom field renderers.\r\n   */\r\n  componentRegistry?: IFormRendererRegistry;\r\n\r\n  /**\r\n   * String used to make the title of the editor more readable\r\n   */\r\n  titleContext?: string;\r\n\r\n  /**\r\n   * A default value for code fields\r\n   */\r\n  code?: string[];\r\n}\r\n\r\n/**\r\n * Widget wrapper around the metadata editor components. Handles preparing\r\n * the schema and metadata for the component.\r\n */\r\nexport class MetadataEditorWidget extends ReactWidget {\r\n  props: IMetadataEditorProps;\r\n  widgetClass: string;\r\n  schema: ISchemaResource | undefined;\r\n  metadata: GenericObjectType | undefined;\r\n  loading = true;\r\n  dirty = false;\r\n  clearDirty: IDisposable | null = null;\r\n  allTags: string[] = [];\r\n  allMetadata: IMetadataResource[] | undefined;\r\n\r\n  constructor(props: IMetadataEditorProps) {\r\n    super();\r\n    this.props = props;\r\n    this.widgetClass = `elyra-metadataEditor-${props.name ?? 'new'}`;\r\n    this.addClass(this.widgetClass);\r\n\r\n    this.getDefaultChoices = this.getDefaultChoices.bind(this);\r\n    this.handleDirtyState = this.handleDirtyState.bind(this);\r\n    this.close = this.close.bind(this);\r\n    void this.loadSchemaAndMetadata();\r\n  }\r\n\r\n  /**\r\n   * Loads schema and metadata and adds categories.\r\n   */\r\n  async loadSchemaAndMetadata(): Promise<void> {\r\n    try {\r\n      // Load all schema and all metadata in schemaspace.\r\n      const allSchema = await MetadataService.getSchema(this.props.schemaspace);\r\n      this.allMetadata = await MetadataService.getMetadata(\r\n        this.props.schemaspace\r\n      );\r\n\r\n      if (!this.allMetadata) {\r\n        throw new Error(\r\n          `No metadata found for schemaspace ${this.props.schemaspace}`\r\n        );\r\n      }\r\n\r\n      // Loads all tags to display as options in the editor.\r\n      this.allTags = this.allMetadata.reduce(\r\n        (acc: string[], metadata: IMetadataResource) => {\r\n          const tags = metadata.metadata.tags as string[] | undefined;\r\n          if (tags) {\r\n            acc.push(\r\n              ...tags.filter((tag: string) => {\r\n                return !acc.includes(tag);\r\n              })\r\n            );\r\n          }\r\n          return acc;\r\n        },\r\n        []\r\n      );\r\n\r\n      // Finds schema based on schemaName.\r\n      const schema = allSchema?.find((s) => {\r\n        return s.name === this.props.schemaName;\r\n      });\r\n\r\n      if (!schema) {\r\n        throw new Error(`Schema not found for ${this.props.schemaName}`);\r\n      }\r\n\r\n      if (!schema.properties?.metadata) {\r\n        throw new Error('Metadata not found in schema');\r\n      }\r\n      // Sets const fields to readonly.\r\n      const schemaMetadata = schema.properties?.metadata as\r\n        | GenericObjectType\r\n        | undefined;\r\n      const properties = schemaMetadata?.properties;\r\n\r\n      if (!properties) {\r\n        throw new Error('Metadata properties not found in schema');\r\n      }\r\n\r\n      for (const prop in properties) {\r\n        if (properties[prop].uihints?.hidden) {\r\n          delete properties[prop];\r\n          continue;\r\n        }\r\n        if (properties[prop].const !== undefined) {\r\n          properties[prop].default = properties[prop].const;\r\n          properties[prop].uihints = {\r\n            'ui:readonly': true\r\n          };\r\n        }\r\n      }\r\n\r\n      const metadata = this.allMetadata.find((m) => m.name === this.props.name);\r\n\r\n      // Adds categories as wrapper objects in the schema.\r\n      const metadataWithCategories: GenericObjectType = {};\r\n      const schemaPropertiesByCategory: GenericObjectType = {\r\n        _noCategory: {\r\n          type: 'object',\r\n          title: ' ',\r\n          properties: {\r\n            display_name: {\r\n              title: this.props.translator.__('Display Name'),\r\n              description: this.props.translator.__(\r\n                'Name used to identify an instance of metadata.'\r\n              ),\r\n              type: 'string'\r\n            }\r\n          },\r\n          required: ['display_name']\r\n        }\r\n      };\r\n\r\n      // Adds required fields to the wrapper required fields.\r\n      const requiredCategories: string[] = [];\r\n      for (const schemaProperty in schemaMetadata.properties) {\r\n        const properties = schemaMetadata.properties[schemaProperty];\r\n        const category =\r\n          (properties.uihints && properties.uihints.category) ?? '_noCategory';\r\n\r\n        if (!metadataWithCategories[category]) {\r\n          metadataWithCategories[category] = {};\r\n        }\r\n        metadataWithCategories[category][schemaProperty] =\r\n          metadata?.metadata?.[schemaProperty] ?? properties.default;\r\n        if (schemaProperty === 'code' && this.props.code) {\r\n          metadataWithCategories[category][schemaProperty] = this.props.code;\r\n        }\r\n        if (!schemaPropertiesByCategory[category]) {\r\n          schemaPropertiesByCategory[category] = {\r\n            type: 'object',\r\n            properties: {},\r\n            required: []\r\n          };\r\n        }\r\n\r\n        if (schemaMetadata.required?.includes(schemaProperty)) {\r\n          schemaPropertiesByCategory[category].required.push(schemaProperty);\r\n          if (!requiredCategories.includes(category)) {\r\n            requiredCategories.push(category);\r\n          }\r\n        }\r\n        schemaPropertiesByCategory[category]['properties'][schemaProperty] =\r\n          properties;\r\n      }\r\n      if (metadataWithCategories['_noCategory']) {\r\n        metadataWithCategories['_noCategory']['display_name'] =\r\n          metadata?.['display_name'];\r\n      }\r\n      this.schema = schema;\r\n      (this.schema.properties?.metadata as GenericObjectType).properties =\r\n        schemaPropertiesByCategory;\r\n      (this.schema.properties?.metadata as GenericObjectType).required =\r\n        requiredCategories;\r\n      this.metadata = metadataWithCategories;\r\n      this.title.label = metadata?.display_name ?? `New ${this.schema.title}`;\r\n      this.loading = false;\r\n      this.update();\r\n    } catch (error) {\r\n      await RequestErrors.serverError(error as IErrorResponse);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Puts the display name field in focus.\r\n   */\r\n  setFormFocus(): void {\r\n    const isFocused = document\r\n      .querySelector(`.${this.widgetClass}`)\r\n      ?.contains(document.activeElement);\r\n\r\n    if (!isFocused) {\r\n      const input = document.querySelector(\r\n        `.${this.widgetClass} .display_nameField input`\r\n      ) as HTMLInputElement;\r\n      if (input) {\r\n        input.focus();\r\n        input.setSelectionRange(input.value.length, input.value.length);\r\n      }\r\n    }\r\n  }\r\n\r\n  onAfterShow(_msg: Message): void {\r\n    this.setFormFocus();\r\n  }\r\n\r\n  onUpdateRequest(msg: Message): void {\r\n    super.onUpdateRequest(msg);\r\n    this.setFormFocus();\r\n  }\r\n\r\n  /**\r\n   * Sets the state to dirty to enable changing the display and\r\n   * add warnings when closing with unsaved changes.\r\n   */\r\n  handleDirtyState(dirty: boolean): void {\r\n    this.dirty = dirty;\r\n    if (dirty && !this.clearDirty) {\r\n      this.clearDirty = this.props.status.setDirty();\r\n    } else if (!dirty && this.clearDirty) {\r\n      this.clearDirty.dispose();\r\n      this.clearDirty = null;\r\n    }\r\n    if (dirty && !this.title.className.includes(DIRTY_CLASS)) {\r\n      this.title.className += DIRTY_CLASS;\r\n    } else if (!dirty) {\r\n      this.title.className = this.title.className.replace(DIRTY_CLASS, '');\r\n    }\r\n  }\r\n\r\n  onCloseRequest(msg: Message): void {\r\n    if (this.dirty) {\r\n      showDialog({\r\n        title: this.props.translator.__('Close without saving?'),\r\n        body: <p>Metadata has unsaved changes, close without saving?</p>,\r\n        buttons: [Dialog.cancelButton(), Dialog.okButton()]\r\n      }).then((response): void => {\r\n        if (response.button.accept) {\r\n          this.dispose();\r\n          super.onCloseRequest(msg);\r\n        }\r\n      });\r\n    } else {\r\n      this.dispose();\r\n      super.onCloseRequest(msg);\r\n    }\r\n  }\r\n\r\n  getDefaultChoices(fieldName: string): string[] {\r\n    if (!this.schema || !this.allMetadata) {\r\n      return [];\r\n    }\r\n    const schema = this.schema.properties?.metadata as GenericObjectType;\r\n    for (const category in schema.properties) {\r\n      const properties = schema.properties[category].properties[fieldName];\r\n      if (!properties) {\r\n        continue;\r\n      }\r\n      const defaultChoices =\r\n        Object.assign([], properties.uihints.default_choices) || [];\r\n      for (const otherMetadata of this.allMetadata) {\r\n        if (\r\n          // Don't include the current metadata\r\n          otherMetadata !== this.metadata?.metadata &&\r\n          // Don't add if otherMetadata hasn't defined field\r\n          otherMetadata.metadata[fieldName] &&\r\n          !find(defaultChoices, (choice: string) => {\r\n            return (\r\n              choice.toLowerCase() ===\r\n              (otherMetadata.metadata[fieldName] as string).toLowerCase()\r\n            );\r\n          })\r\n        ) {\r\n          defaultChoices.push(otherMetadata.metadata[fieldName]);\r\n        }\r\n      }\r\n      return defaultChoices;\r\n    }\r\n    return [];\r\n  }\r\n\r\n  render(): React.ReactElement {\r\n    if (this.loading) {\r\n      return <p>Loading...</p>;\r\n    }\r\n\r\n    if (!this.schema || !this.metadata) {\r\n      return <p>Error loading metadata</p>;\r\n    }\r\n\r\n    return (\r\n      <MetadataEditor\r\n        {...this.props}\r\n        schemaTop={this.schema}\r\n        initialMetadata={this.metadata}\r\n        setDirty={this.handleDirtyState}\r\n        close={this.close}\r\n        allTags={this.allTags}\r\n        getDefaultChoices={this.getDefaultChoices}\r\n      />\r\n    );\r\n  }\r\n}\r\n","/*\r\n * Copyright 2018-2025 Elyra Authors\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n * http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n\r\nimport {\r\n  IMetadataResource,\r\n  ISchemaResource,\r\n  MetadataService\r\n} from '@elyra/services';\r\nimport {\r\n  ExpandableComponent,\r\n  GenericObjectType,\r\n  IErrorResponse,\r\n  JSONComponent,\r\n  RequestErrors,\r\n  trashIcon\r\n} from '@elyra/ui-components';\r\n\r\nimport { JupyterFrontEnd } from '@jupyterlab/application';\r\nimport {\r\n  Dialog,\r\n  ReactWidget,\r\n  showDialog,\r\n  UseSignal\r\n} from '@jupyterlab/apputils';\r\nimport {\r\n  addIcon,\r\n  copyIcon,\r\n  editIcon,\r\n  LabIcon,\r\n  refreshIcon\r\n} from '@jupyterlab/ui-components';\r\nimport {\r\n  ReadonlyJSONObject,\r\n  ReadonlyPartialJSONObject\r\n} from '@lumino/coreutils';\r\nimport { Message } from '@lumino/messaging';\r\nimport { Signal } from '@lumino/signaling';\r\n\r\nimport React from 'react';\r\n\r\nimport { FilterTools } from './FilterTools';\r\nimport { MetadataCommonService } from './MetadataCommonService';\r\n\r\n/**\r\n * The CSS class added to metadata widgets.\r\n */\r\nexport const METADATA_CLASS = 'elyra-metadata';\r\nexport const METADATA_HEADER_CLASS = 'elyra-metadataHeader';\r\nexport const METADATA_ITEM = 'elyra-metadata-item';\r\nconst METADATA_HEADER_BUTTON_CLASS = 'elyra-metadataHeader-button';\r\nconst METADATA_JSON_CLASS = 'jp-RenderedJSON CodeMirror cm-s-jupyter';\r\n\r\nconst commands = {\r\n  OPEN_METADATA_EDITOR: 'elyra-metadata-editor:open'\r\n};\r\n\r\nexport interface IMetadataActionButton {\r\n  title: string;\r\n  icon: LabIcon;\r\n  feedback?: string;\r\n  onClick: () => void;\r\n}\r\n\r\nexport interface IOpenMetadataEditorArgs {\r\n  titleContext?: string;\r\n  schema: string;\r\n  schemaspace: string;\r\n  name?: string;\r\n  onSave: () => void;\r\n  code?: string[];\r\n}\r\n\r\n/**\r\n * MetadataDisplay props.\r\n */\r\nexport interface IMetadataDisplayProps {\r\n  metadata: IMetadataResource[];\r\n  openMetadataEditor: (args: IOpenMetadataEditorArgs) => void;\r\n  updateMetadata: () => void;\r\n  schemaspace: string;\r\n  sortMetadata: boolean;\r\n  className: string;\r\n  titleContext?: string;\r\n  labelName?: (args: IMetadataResource) => string;\r\n  omitTags?: boolean;\r\n}\r\n\r\n/**\r\n * MetadataDisplay state.\r\n */\r\nexport interface IMetadataDisplayState {\r\n  metadata: IMetadataResource[];\r\n  searchValue: string;\r\n  filterTags: string[];\r\n  matchesSearch: (searchValue: string, metadata: IMetadataResource) => boolean;\r\n  matchesTags: (\r\n    filterTags: Set<string>,\r\n    metadata: IMetadataResource\r\n  ) => boolean;\r\n}\r\n\r\n/**\r\n * A React Component for displaying a list of metadata\r\n */\r\nexport class MetadataDisplay<\r\n  T extends IMetadataDisplayProps\r\n  // U extends IMetadataDisplayState,\r\n> extends React.Component<T, IMetadataDisplayState> {\r\n  constructor(props: T) {\r\n    super(props);\r\n    this.state = {\r\n      metadata: props.metadata,\r\n      searchValue: '',\r\n      filterTags: [],\r\n      matchesSearch: this.matchesSearch.bind(this),\r\n      matchesTags: this.matchesTags.bind(this)\r\n    };\r\n  }\r\n\r\n  deleteMetadata = (metadata: IMetadataResource): Promise<void> => {\r\n    return showDialog({\r\n      title: `Delete ${\r\n        this.props.labelName ? this.props.labelName(metadata) : ''\r\n      } ${this.props.titleContext || ''} '${metadata.display_name}'?`,\r\n      buttons: [Dialog.cancelButton(), Dialog.okButton()]\r\n    }).then((result) => {\r\n      // Do nothing if the cancel button is pressed\r\n      if (result.button.accept) {\r\n        MetadataService.deleteMetadata(\r\n          this.props.schemaspace,\r\n          metadata.name\r\n        ).catch(async (error) => {\r\n          await RequestErrors.serverError(error);\r\n        });\r\n      }\r\n    });\r\n  };\r\n\r\n  actionButtons(metadata: IMetadataResource): IMetadataActionButton[] {\r\n    return [\r\n      {\r\n        title: 'Edit',\r\n        icon: editIcon,\r\n        onClick: (): void => {\r\n          this.props.openMetadataEditor({\r\n            onSave: this.props.updateMetadata,\r\n            schemaspace: this.props.schemaspace,\r\n            schema: metadata.schema_name,\r\n            name: metadata.name\r\n          });\r\n        }\r\n      },\r\n      {\r\n        title: 'Duplicate',\r\n        icon: copyIcon,\r\n        onClick: (): void => {\r\n          MetadataCommonService.duplicateMetadataInstance(\r\n            this.props.schemaspace,\r\n            metadata,\r\n            this.props.metadata\r\n          )\r\n            .then((): void => {\r\n              this.props.updateMetadata();\r\n            })\r\n            .catch(async (error) => {\r\n              await RequestErrors.serverError(error);\r\n            });\r\n        }\r\n      },\r\n      {\r\n        title: 'Delete',\r\n        icon: trashIcon,\r\n        onClick: (): void => {\r\n          this.deleteMetadata(metadata).then((): void => {\r\n            this.props.updateMetadata();\r\n          });\r\n        }\r\n      }\r\n    ];\r\n  }\r\n\r\n  /**\r\n   * Classes that extend MetadataWidget should override this\r\n   */\r\n  renderExpandableContent(metadata: IMetadataResource): JSX.Element {\r\n    const metadataWithoutTags = metadata.metadata;\r\n    delete metadataWithoutTags.tags;\r\n    return (\r\n      <div className={METADATA_JSON_CLASS}>\r\n        <JSONComponent json={metadataWithoutTags} />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Render display of metadata list\r\n  renderMetadata = (metadata: IMetadataResource): JSX.Element => {\r\n    return (\r\n      <div\r\n        key={metadata.name}\r\n        className={METADATA_ITEM}\r\n        style={\r\n          this.state.metadata.includes(metadata) ? {} : { display: 'none' }\r\n        }\r\n      >\r\n        <ExpandableComponent\r\n          displayName={metadata.display_name}\r\n          tooltip={metadata.metadata.description as string}\r\n          actionButtons={this.actionButtons(metadata)}\r\n        >\r\n          <div id={metadata.name}>{this.renderExpandableContent(metadata)}</div>\r\n        </ExpandableComponent>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  /**\r\n   * A function called when the `sortMetadata` property is `true`, sorts the\r\n   * `metadata` property alphabetically by `metadata.display_name` by default.\r\n   * Can be overridden if a different or more intensive sorting is desired.\r\n   */\r\n  sortMetadata(): void {\r\n    this.props.metadata.sort((a, b) =>\r\n      a.display_name.localeCompare(b.display_name)\r\n    );\r\n  }\r\n\r\n  filteredMetadata = (searchValue: string, filterTags: string[]): void => {\r\n    // filter with search\r\n    let filteredMetadata = this.props.metadata.filter(\r\n      (metadata: IMetadataResource): boolean => {\r\n        return (\r\n          metadata.name.toLowerCase().includes(searchValue.toLowerCase()) ||\r\n          metadata.display_name\r\n            .toLowerCase()\r\n            .includes(searchValue.toLowerCase())\r\n        );\r\n      }\r\n    );\r\n\r\n    // filter with tags\r\n    if (filterTags.length !== 0) {\r\n      filteredMetadata = filteredMetadata.filter((metadata) => {\r\n        return filterTags.some((tag) => {\r\n          const tags = metadata.metadata.tags as string[] | undefined;\r\n          if (tags) {\r\n            return tags.includes(tag);\r\n          }\r\n          return false;\r\n        });\r\n      });\r\n    }\r\n\r\n    this.setState({\r\n      metadata: filteredMetadata,\r\n      searchValue: searchValue,\r\n      filterTags: filterTags\r\n    });\r\n  };\r\n\r\n  getActiveTags(): string[] {\r\n    const activeTags: string[] = [];\r\n    for (const metadata of this.props.metadata) {\r\n      const metadataTags = metadata.metadata.tags as string[] | undefined;\r\n      if (metadataTags) {\r\n        for (const tag of metadataTags) {\r\n          if (!activeTags.includes(tag)) {\r\n            activeTags.push(tag);\r\n          }\r\n        }\r\n      }\r\n    }\r\n    return activeTags;\r\n  }\r\n\r\n  matchesTags(filterTags: Set<string>, metadata: IMetadataResource): boolean {\r\n    // True if there are no tags selected or if there are tags that match\r\n    // tags of metadata\r\n    const tags = metadata.metadata.tags as string[];\r\n    return (\r\n      filterTags.size === 0 || tags?.some((tag: string) => filterTags.has(tag))\r\n    );\r\n  }\r\n\r\n  matchesSearch(searchValue: string, metadata: IMetadataResource): boolean {\r\n    searchValue = searchValue.toLowerCase();\r\n    // True if search string is in name or display_name,\r\n    // or if the search string is empty\r\n    return (\r\n      metadata.name.toLowerCase().includes(searchValue) ||\r\n      metadata.display_name.toLowerCase().includes(searchValue)\r\n    );\r\n  }\r\n\r\n  static getDerivedStateFromProps(\r\n    props: IMetadataDisplayProps,\r\n    state: IMetadataDisplayState\r\n  ): IMetadataDisplayState {\r\n    if (state.searchValue === '' && state.filterTags.length === 0) {\r\n      return {\r\n        metadata: props.metadata,\r\n        searchValue: '',\r\n        filterTags: [],\r\n        matchesSearch: state.matchesSearch,\r\n        matchesTags: state.matchesTags\r\n      };\r\n    }\r\n\r\n    if (state.searchValue !== '' || state.filterTags.length !== 0) {\r\n      const filterTags = new Set(state.filterTags);\r\n      const searchValue = state.searchValue.toLowerCase().trim();\r\n\r\n      const newMetadata = props.metadata.filter(\r\n        (metadata) =>\r\n          state.matchesSearch(searchValue, metadata) &&\r\n          state.matchesTags(filterTags, metadata)\r\n      );\r\n      return {\r\n        metadata: newMetadata,\r\n        searchValue: state.searchValue,\r\n        filterTags: state.filterTags,\r\n        matchesSearch: state.matchesSearch,\r\n        matchesTags: state.matchesTags\r\n      };\r\n    }\r\n    return state;\r\n  }\r\n\r\n  render(): React.ReactElement {\r\n    if (this.props.sortMetadata) {\r\n      this.sortMetadata();\r\n    }\r\n    return (\r\n      <div id=\"elyra-metadata\" className={this.props.className}>\r\n        <FilterTools\r\n          onFilter={this.filteredMetadata}\r\n          tags={this.getActiveTags()}\r\n          omitTags={this.props.omitTags}\r\n          schemaspace={`${this.props.schemaspace}`}\r\n        />\r\n        <div>{this.props.metadata.map(this.renderMetadata)}</div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n/**\r\n * MetadataWidget props.\r\n */\r\nexport interface IMetadataWidgetProps {\r\n  app: JupyterFrontEnd;\r\n  display_name: string;\r\n  schemaspace: string;\r\n  icon: LabIcon;\r\n  titleContext?: string;\r\n  appendToTitle?: boolean;\r\n  addLabel?: string;\r\n}\r\n\r\n/**\r\n * A abstract widget for viewing metadata.\r\n */\r\nexport class MetadataWidget extends ReactWidget {\r\n  renderSignal: Signal<this, IMetadataResource[]>;\r\n  props: IMetadataWidgetProps;\r\n  schemas?: ISchemaResource[];\r\n  titleContext?: string;\r\n  addLabel?: string;\r\n  refreshButtonTooltip?: string;\r\n\r\n  constructor(props: IMetadataWidgetProps) {\r\n    super();\r\n    this.addClass('elyra-metadata');\r\n\r\n    this.props = props;\r\n    this.renderSignal = new Signal<this, IMetadataResource[]>(this);\r\n    this.titleContext = props.titleContext;\r\n    this.addLabel = props.addLabel;\r\n    this.fetchMetadata = this.fetchMetadata.bind(this);\r\n    this.getSchemas = this.getSchemas.bind(this);\r\n    this.updateMetadata = this.updateMetadata.bind(this);\r\n    this.refreshMetadata = this.refreshMetadata.bind(this);\r\n    this.openMetadataEditor = this.openMetadataEditor.bind(this);\r\n    this.renderDisplay = this.renderDisplay.bind(this);\r\n    this.addMetadata = this.addMetadata.bind(this);\r\n\r\n    this.getSchemas();\r\n  }\r\n\r\n  async getSchemas(): Promise<void> {\r\n    try {\r\n      this.schemas = await MetadataService.getSchema(this.props.schemaspace);\r\n      const sortedSchema =\r\n        this.schemas?.sort((a, b) =>\r\n          (a.title ?? '').localeCompare(b.title ?? '')\r\n        ) ?? [];\r\n      if (sortedSchema.length > 1) {\r\n        for (const schema of sortedSchema) {\r\n          this.props.app.contextMenu.addItem({\r\n            selector: `#${this.props.schemaspace} .elyra-metadataHeader-addButton`,\r\n            command: 'elyra-metadata-editor:open',\r\n            args: {\r\n              onSave: this.updateMetadata,\r\n              schemaspace: this.props.schemaspace,\r\n              schema: schema.name,\r\n              title: schema.title,\r\n              titleContext: this.props.titleContext,\r\n              addLabel: this.props.addLabel,\r\n              appendToTitle: this.props.appendToTitle\r\n            } as unknown as ReadonlyJSONObject\r\n          });\r\n        }\r\n      }\r\n      this.update();\r\n    } catch (error) {\r\n      await RequestErrors.serverError(error as IErrorResponse);\r\n    }\r\n  }\r\n\r\n  addMetadata(schema: string, titleContext?: string): void {\r\n    this.openMetadataEditor({\r\n      onSave: this.updateMetadata,\r\n      schemaspace: this.props.schemaspace,\r\n      schema: schema,\r\n      titleContext\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Request metadata from server and format it as expected by the\r\n   * instance of `MetadataDisplay` rendered in `renderDisplay`\r\n   *\r\n   * Classes that extend MetadataWidget should override this\r\n   *\r\n   * @returns metadata in the format expected by `renderDisplay`\r\n   */\r\n  async fetchMetadata(): Promise<IMetadataResource[] | undefined> {\r\n    try {\r\n      return await MetadataService.getMetadata(this.props.schemaspace);\r\n    } catch (error) {\r\n      await RequestErrors.serverError(error as IErrorResponse);\r\n      return;\r\n    }\r\n  }\r\n\r\n  updateMetadata(): void {\r\n    this.fetchMetadata().then((metadata) => {\r\n      if (!metadata) {\r\n        return;\r\n      }\r\n      this.renderSignal.emit(metadata);\r\n    });\r\n  }\r\n\r\n  refreshMetadata(): void {\r\n    this.updateMetadata();\r\n  }\r\n\r\n  // Triggered when the widget button on side panel is clicked\r\n  onAfterShow(_msg: Message): void {\r\n    this.updateMetadata();\r\n  }\r\n\r\n  openMetadataEditor = (args: IOpenMetadataEditorArgs): void => {\r\n    this.props.app.commands.execute(\r\n      commands.OPEN_METADATA_EDITOR,\r\n      args as unknown as ReadonlyPartialJSONObject\r\n    );\r\n  };\r\n\r\n  omitTags(): boolean {\r\n    for (const schema of this.schemas ?? []) {\r\n      const metadata = schema.properties?.metadata as\r\n        | GenericObjectType\r\n        | undefined;\r\n      if (metadata?.properties?.tags) {\r\n        return false;\r\n      }\r\n    }\r\n    return true;\r\n  }\r\n\r\n  /**\r\n   * Classes that extend MetadataWidget should override this\r\n   *\r\n   * @returns a rendered instance of `MetadataDisplay`\r\n   */\r\n  renderDisplay(metadata: IMetadataResource[]): React.ReactElement {\r\n    if (Array.isArray(metadata) && !metadata.length) {\r\n      // Empty metadata\r\n      return (\r\n        <div>\r\n          <br />\r\n          <h6 className=\"elyra-no-metadata-msg\">\r\n            Click the + button to add {this.props.display_name.toLowerCase()}\r\n          </h6>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <MetadataDisplay\r\n        metadata={metadata}\r\n        updateMetadata={this.updateMetadata}\r\n        openMetadataEditor={this.openMetadataEditor}\r\n        schemaspace={this.props.schemaspace}\r\n        sortMetadata={true}\r\n        className={`${METADATA_CLASS}-${this.props.schemaspace}`}\r\n        omitTags={this.omitTags()}\r\n        titleContext={this.props.titleContext}\r\n      />\r\n    );\r\n  }\r\n\r\n  render(): React.ReactElement {\r\n    const singleSchema = this.schemas?.length === 1;\r\n    return (\r\n      <div id={this.props.schemaspace} className={METADATA_CLASS}>\r\n        <header className={METADATA_HEADER_CLASS}>\r\n          <div style={{ display: 'flex' }}>\r\n            <this.props.icon.react\r\n              tag=\"span\"\r\n              width=\"auto\"\r\n              height=\"24px\"\r\n              verticalAlign=\"middle\"\r\n              marginRight=\"5px\"\r\n            />\r\n            <p> {this.props.display_name} </p>\r\n          </div>\r\n          <div className=\"elyra-metadataHeader-buttons\">\r\n            <button\r\n              className={METADATA_HEADER_BUTTON_CLASS}\r\n              onClick={(): void => {\r\n                this.refreshMetadata();\r\n              }}\r\n              title={this.refreshButtonTooltip ?? 'Refresh list'}\r\n            >\r\n              <refreshIcon.react\r\n                tag=\"span\"\r\n                elementPosition=\"center\"\r\n                width=\"16px\"\r\n              />\r\n            </button>\r\n            <div className=\"elyra-metadataHeader-buttonDivider\" />\r\n            <button\r\n              className={`${METADATA_HEADER_BUTTON_CLASS} elyra-metadataHeader-addButton`}\r\n              onClick={\r\n                singleSchema\r\n                  ? (): void =>\r\n                      this.addMetadata(\r\n                        this.schemas?.[0].name ?? '',\r\n                        this.titleContext\r\n                      )\r\n                  : // eslint-disable-next-line @typescript-eslint/no-explicit-any -- types mismatch\r\n                    (event: any): void => {\r\n                      this.props.app.contextMenu.open(event);\r\n                    }\r\n              }\r\n              title={`Create new ${this.addLabel}`}\r\n            >\r\n              <addIcon.react tag=\"span\" elementPosition=\"center\" width=\"16px\" />\r\n            </button>\r\n          </div>\r\n        </header>\r\n        <UseSignal signal={this.renderSignal} initialArgs={[]}>\r\n          {(_, metadata): React.ReactElement =>\r\n            this.renderDisplay(metadata ?? [])\r\n          }\r\n        </UseSignal>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","/*\r\n * Copyright 2018-2025 Elyra Authors\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n * http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n\r\nimport '../style/index.css';\r\n\r\nexport * from './MetadataEditor';\r\nexport * from './MetadataWidget';\r\nexport * from './MetadataCommonService';\r\nexport * from './MetadataEditorWidget';\r\n","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!./index.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!./index.css\";\n       export default content && content.locals ? content.locals : undefined;\n"],"names":[],"sourceRoot":""}