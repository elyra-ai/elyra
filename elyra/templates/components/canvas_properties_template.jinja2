{
  "type": "object",
  "properties": {
    {% if component.description %}
    "component_description": {
      "type": "string",
      "title": "Component Description",
      "uihints": {
        "readonly": true
      }
    },{% endif %}
    "label": {
      "type": "string",
      "title": "Label",
      "description": "A custom label for the node."
    },
    "component_parameters": {
      {% for property in component.properties %}
      "{{ property.ref }}": {
        "type": "{{ property.control }}",
        "title": "{{ property.name }}",
        "description": {{ property.description|tojson|safe }},
        "uihints": {
          "ui:widget": "{{ property.control_id }}",
          {% if property.control_id == "OneOfControl" %}
          "controls":{
            {% for control, control_data_type, control_label in property.one_of_control_types %}
            "{{ control }}": {
              "label": "{{ control_label }}",
              "format": "{{ control_data_type }}"
              {% if control == 'NestedEnumControl' %}
              ,
              "allownooptions":
                {% if property.allow_no_options %}
                true
                {% else %}
                false
                {% endif %}
              {% endif %}
            }
            {% if loop.index != loop.length %}
            ,
            {% endif %}
            {%  endfor %}
          },
          {% else %}
          "format": "{{ property.data_type }}",
          {% endif %}
          "required": {{ property.required|lower }}
          {% if property.control_id == "EnumControl" %}
          ,
          "items": [
            {% for item in property.items %}
            "{{ item }}"
            {% if loop.index != property.items|length %}
            ,
            {% endif %}
            {% endfor %}
          ]
        {% endif %}
        }
      },
      {% endfor %}
      "component_source": {
        "type": "string",
        "title": "Component Source",
        "uihints": {
          "readonly": true
        }
      }
    },
    "required": [
      {% for property in component.properties %}
        "{{ property.required|lower }}"
            {% if loop.index != loop|length %}
            ,
            {% endif %}
      {% endfor %}
    ]
  },
  "required": ["component_parameters"]
}
